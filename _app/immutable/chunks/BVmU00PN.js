import{B as S,M as Q,N as O,D as M,O as Z,P as $,g as Y,Q as y,R as J,T as j,U as B,V as m,E as R,W as ee,X as re,Y as L,x as ne,Z as A,C as H,G as fe,_ as U,K as ae,$ as V,a0 as se,a1 as ie,a2 as le,a3 as te,y as q,A as G,a4 as D,a5 as ue,a6 as oe,z as ve,k as de,b as ce}from"./CKqzupgX.js";function Ee(e,r){return r}function he(e,r,f){for(var l=[],d=r.length,t,i=r.length,a=0;a<d;a++){let u=r[a];G(u,()=>{if(t){if(t.pending.delete(u),t.done.add(u),t.pending.size===0){var c=e.outrogroups;F(V(t.done)),c.delete(t),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=l.length===0&&f!==null;if(o){var s=f,v=s.parentNode;oe(v),v.append(s),e.items.clear()}F(r,!o)}else t={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(t)}function F(e,r=!0){for(var f=0;f<e.length;f++)ve(e[f],r)}var X;function we(e,r,f,l,d,t=null){var i=e,a=new Map;{var o=e;i=M?O(Z(o)):o.appendChild(S())}M&&$();var s=null,v=y(()=>{var h=f();return se(h)?h:h==null?[]:V(h)}),u,c=!0;function N(){_.fallback=s,ge(_,u,i,r,l),s!==null&&(u.length===0?(s.f&A)===0?q(s):(s.f^=A,I(s,null,i)):G(s,()=>{s=null}))}var n=Q(()=>{u=Y(v);var h=u.length;let E=!1;if(M){var p=J(i)===j;p!==(h===0)&&(i=B(),O(i),m(!1),E=!0)}for(var k=new Set,w=ne,C=fe(),T=0;T<h;T+=1){M&&R.nodeType===ee&&R.data===re&&(i=R,E=!0,m(!1));var z=u[T],g=l(z,T),b=c?null:a.get(g);b?(b.v&&L(b.v,z),b.i&&L(b.i,T),C&&w.skipped_effects.delete(b.e)):(b=pe(a,c?i:X??=S(),z,g,T,d,r,f),c||(b.e.f|=A),a.set(g,b)),k.add(g)}if(h===0&&t&&!s&&(c?s=H(()=>t(i)):(s=H(()=>t(X??=S())),s.f|=A)),M&&h>0&&O(B()),!c)if(C){for(const[K,P]of a)k.has(K)||w.skipped_effects.add(P.e);w.oncommit(N),w.ondiscard(()=>{})}else N();E&&m(!0),Y(v)}),_={effect:n,items:a,outrogroups:null,fallback:s};c=!1,M&&(i=R)}function ge(e,r,f,l,d){var t=r.length,i=e.items,a=e.effect.first,o,s=null,v=[],u=[],c,N,n,_;for(_=0;_<t;_+=1){if(c=r[_],N=d(c,_),n=i.get(N).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(n),g.done.delete(n);if((n.f&A)!==0)if(n.f^=A,n===a)I(n,null,f);else{var h=s?s.next:a;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),x(e,s,n),x(e,n,h),I(n,h,f),s=n,v=[],u=[],a=s.next;continue}if((n.f&D)!==0&&q(n),n!==a){if(o!==void 0&&o.has(n)){if(v.length<u.length){var E=u[0],p;s=E.prev;var k=v[0],w=v[v.length-1];for(p=0;p<v.length;p+=1)I(v[p],E,f);for(p=0;p<u.length;p+=1)o.delete(u[p]);x(e,k.prev,w.next),x(e,s,k),x(e,w,E),a=E,s=w,_-=1,v=[],u=[]}else o.delete(n),I(n,a,f),x(e,n.prev,n.next),x(e,n,s===null?e.effect.first:s.next),x(e,s,n),s=n;continue}for(v=[],u=[];a!==null&&a!==n;)(o??=new Set).add(a),u.push(a),a=a.next;if(a===null)continue}(n.f&A)===0&&v.push(n),s=n,a=n.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(F(V(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||o!==void 0){var C=[];if(o!==void 0)for(n of o)(n.f&D)===0&&C.push(n);for(;a!==null;)(a.f&D)===0&&a!==e.fallback&&C.push(a),a=a.next;var T=C.length;if(T>0){var z=t===0?f:null;he(e,C,z)}}}function pe(e,r,f,l,d,t,i,a){var o=(i&ie)!==0?(i&le)===0?ae(f,!1,!1):U(f):null,s=(i&te)!==0?U(d):null;return{v:o,i:s,e:H(()=>(t(r,o??f,s??d,a),()=>{e.delete(l)}))}}function I(e,r,f){if(e.nodes)for(var l=e.nodes.start,d=e.nodes.end,t=r&&(r.f&A)===0?r.nodes.start:f;l!==null;){var i=ue(l);if(t.before(l),l===d)return;l=i}}function x(e,r,f){r===null?e.effect.first=f:r.next=f,f===null?e.effect.last=r:f.prev=r}class W{#e=new WeakMap;#r;#n;static entries=new WeakMap;constructor(r){this.#n=r}observe(r,f){var l=this.#e.get(r)||new Set;return l.add(f),this.#e.set(r,l),this.#f().observe(r,this.#n),()=>{var d=this.#e.get(r);d.delete(f),d.size===0&&(this.#e.delete(r),this.#r.unobserve(r))}}#f(){return this.#r??(this.#r=new ResizeObserver(r=>{for(var f of r){W.entries.set(f.target,f);for(var l of this.#e.get(f.target)||[])l(f)}}))}}var _e=new W({box:"border-box"});function Te(e,r,f){var l=_e.observe(e,()=>f(e[r]));de(()=>(ce(()=>f(e[r])),l))}export{Te as b,we as e,Ee as i};
